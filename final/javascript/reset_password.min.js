$(document).ready(function(){$("#resetPasswordForm").validate({rules:{newPassword:{required:!0,minlength:8,maxlength:64},repeatPassword:{required:!0,equalTo:$(this).find("#newPassword")}},messages:{newPassword:{required:"Please, enter your password.",minlength:"Your password should be between 8 and 64 characters.",maxlength:"Your password should be between 8 and 64 characters."},repeatPassword:{required:"Please, enter confirm your password.",equalTo:"The confirmation password does not match."}},errorPlacement:function(e,a){$(a).closest(".form-group").append(e)}}),$(".btn").click(function(){let e=$("#resetPasswordForm"),a=$("#newPassword").val(),s=$("#repeatPassword").val(),r=$("#email").val(),o=$.ajax({type:"POST",url:BASE_URL+"api/authentication/reset_password.php",data:{newPass:a,newPassRepeat:s,email:r}});o.done(function(a,s,r){a.indexOf("Success")>=0?($(e).remove(),$(".form-wrap").append('<p class="text-center">Password updated with success.</p><a href="'+BASE_URL+'">Back to main page</a>')):$.magnificPopup.open({items:{src:'<div class="white-popup">'+a+"</div>",type:"inline",mainClass:"mfp-fade"}})}),o.fail(function(e,a,s){console.error("The following error occurred: "+a+": "+s)})})});