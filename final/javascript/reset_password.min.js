$(document).ready(function(){function e(e){let r=$("#newPassword").val(),a=$("#repeatPassword").val(),s=$("#email").val(),o=$.ajax({type:"POST",url:BASE_URL+"api/authentication/reset_password.php",data:{newPass:r,newPassRepeat:a,email:s}});o.done(function(r,a,s){r.indexOf("Success")>=0?($(e).trigger("reset"),$(".container").prepend('<p>Password updated with success.</p><a href="'+BASE_URL+'">Back to main page</a>')):$.magnificPopup.open({items:{src:'<div class="white-popup">'+r+"</div>",type:"inline"}})}),o.fail(function(e,r,a){console.error("The following error occurred: "+r+": "+a)})}$("#form-password-reset").validate({rules:{newPassword:{required:!0,minlength:8,maxlength:64},repeatPassword:{required:!0,equalTo:$(this).find("#newPassword")}},messages:{newPassword:{required:"Please, enter your password.",minlength:"Your password should be between 8 and 64 characters.",maxlength:"Your password should be between 8 and 64 characters."},repeatPassword:{required:"Please, enter confirm your password.",equalTo:"The confirmation password does not match."}},errorPlacement:function(e,r){$(r).closest(".form-group").append(e)},submitHandler:e})});